# CSS 3（Ⅱ）
> 提要：CSS网页布局
>
> CSS除了选择器以外还有对应的布局方法，这里主要介绍盒子模型及其相关的布局方法

## 盒子模型的概念

所有HTML元素可以看作盒子，在CSS中，"box model"这一术语是用来设计和布局时使用。

CSS盒模型本质上是一个盒子，封装周围的HTML元素，它包括：边距，边框，填充，和实际内容。

盒模型允许我们在其它元素和周围元素边框之间的空间放置元素。

<img src="https://www.runoob.com/images/box-model.gif" alt="CSS box-model" style="zoom:75%;" />

在CSS中，width和height表示设置的是Content的高度和宽度

## 边框

### 边框宽度

border-width，默认值一般都是3px，不写默认取默认值

指定四个方向的边框宽度，最多附四个参数表示分别设置宽度用空格分开，不要用其他的符号

- 四个值顺序：
  - 上 右 下 左，顺时针排列
  - 三个值：上 左右 下
  - 两个值：上下 左右
  - 一个值：上下左右

> 另外还有一组：border-xxx-width: 10px
>
>  xxx:top/right/bottom/left
>
> 用来单独制定某一个边的宽度

### 边框颜色

- border-color，也可以仿照border的所有语法指定某一边/多个边的颜色，默认为黑色

### 边框的样式

border-style，也可以仿照border的所有语法指定某一边/多个边的样式

- solid:表示实线
- dotted 表示点状虚线
- dashed 虚线
- double 双线

### 简写属性

 border简写属性，通过该属性可以同时设置边框的所有相关样式，并且没有顺序要求

- border: width color style(三个属性没有顺序要求)

- border-xxx->xxx:top/right/bottom/left，代指某个边框

- border-xxx:none 指代该位置的边框没有样式

```css
border-top: 15px red solid;
```

## 边距

### 内边距：padding

表示内容和边框的距离

内边距的设置影响盒子的大小，**背景颜色会延申到内边距上**

盒子可见框的大小，由内容区、内边距和边框共同决定，所以在计算盒子大小时，需要将这三个区域加到一起计算

![image-20210501154810216](CSS3(1).assets/image-20210501154810216.png)

### 外边距：margin

外边距不会影响盒子可见框的大小，外边距会影响盒子的位置

一共有四个方向的外边距

- margin-top:上外边距，设置一个正值，元素会向下移动

- margin-left:左外边距，设置一个正值，元素会向右移动

-  margin-bottom:下外边距，设置一个正值，其下的元素向下移动

-  margin-right:右外边距，默认为0，不会产生任何效果

> 元素在页面中是自左向右排列的，所以默认情况下，如果设置的是左和上外边距，则将会移动元素自身，而设置其他边距（右或下，）会移动其他元素

margin也可以设置为负值，意味着相反方向

padding和margin的区别在于：padding体现的是元素的“内部结构”，而margin体现的是元素之间的相互关系。

#### 外边距合并

**外边距合并指的是，当两个垂直外边距相遇时，它们将形成一个外边距。**

**合并后的外边距的高度等于两个发生合并的外边距的高度中的较大者。**

## 文档流

什么叫“文档流”？简单来说，就是指元素在页面中出现的先后顺序。那什么叫“正常文档流”呢？

正常文档流，又称为“普通文档流”或“普通流”，也就是W3C标准所说的“normal flow”。

我们先来看一下正常文档流的简单定义：“正常文档流，将一个页面从上到下分为一行一行，其中块元素独占一行，相邻行内元素在每一行中按照从左到右排列直到该行排满。”

也就是说，**正常文档流指的就是默认情况下页面元素的布局情况。**

脱离文档流，指的是脱离正常文档流。正常文档流就是我们没有使用浮动或者定位去改变的默认情况下的HTML文档结构。换一句话说，如果我们想要改变正常文档流，可以使用有两种方法：**浮动和定位**。

## 盒模型的布局

### 水平布局

元素在其父元素中水平方向的位置由以下**⑦**个属性共同决定

- `margin-left`
- `border-left`
- `padding-left`
- `width`
- `padding-left`
- `border-left`

- `margin-right`

**一个元素中在其父元素中必须要满足以下等式**

![image-20210501211134630](CSS3(1).assets/image-20210501211134630.png)

七个值进行相加，**总和必须等于其父元素内容区的宽度**

> 以上等式必须满足，如果计算结果使得等式不成立，则称其为 **过度约束**
>
> 等式会自动调整
>
> - 如果这7个值中没有为auto的情况，则浏览器会自动调整`margin-right`的值，使得等式满足
>
> - 这七个值中有三个值可以设置为auto（width缺省值就是auto）
>
>   - **width**
>
>   - **margin-left**
>
>   - **margin-right**
>
>     - 如果某个值为auto，则会自动调整为auto的那个值以使得等式成立
>
>       - ```html
>         <style>
>           .outer{
>             width: 800px;
>             height: 200px;
>             border: 10px red solid;
>           }
>           .inner{
>             width: auto;
>             height: 200px;
>             background-color: #bfa;
>             margin-left: 100px;
>             margin-right: 200px;
>           }
>         </style>
>         <body>
>           <div class="outer">
>             <div class="inner"></div>
>           </div>
>         </body>
>         </html>
>         ```
>
>       ![image-20210501212202566](CSS3(1).assets/image-20210501212202566.png)
>
>     - 如果一个宽度和一个外边距都设置为auto，则宽度会调整到最大值
>
>     - 三个值都为auto，宽度最大，外边距均取零
>
>     - 两个外边距为auto，宽度为固定值，则两个外边距会取相同的值，常利用这一特点使得一个元素在其父元素中水平居中
>
>       - ```css
>         width: xxxpx;
>         margin:0 auto
>         ```

## 浮动定位

浮动是CSS布局的最佳利器，我们可以通过浮动来灵活地定位页面元素，以达到布局网页的目的。例如我们可以通过设置float属性让元素向左浮动或者向右浮动，以便让周围的元素或文本环绕着这个元素。

元素设置浮动之后会脱离文档流，宽度不再延伸，默认情况下是由内容确定宽度。

| 属性值 | 说明         |
| :----- | :----------- |
| none   | 不浮动       |
| left   | 元素向左浮动 |
| right  | 元素向右浮动 |

### 浮动元素的特性

#### 脱离标准文档流

- 脱离标准文档流

- **浮动的盒子不再保留原先的位置**，原先标准流未设置浮动的盒子会顶到原来的位置







#### 多个浮动元素在一行内显示并且元素顶部对齐

父级宽度装不下这些浮动的盒子，多出的盒子会另起一行对齐





#### 浮动元素具有行内块元素的特性

块级/行内元素设置浮动可以转化为行内块元素，从而可以应用宽高等属性

行内块元素在没有设置宽高的情况下，**默认大小会被内容撑开**



### 浮动元素的应用

#### 浮动元素 & 标准流搭配

先用标准流的父元素排列上下位置，之后内部子元素采取浮动排列左右位置，符合网页布局的准则

### 浮动布局的注意点

- 浮动和标准流的父盒子搭配
  - 先用标准流的父盒子排列上下位置
  - 随后子元素设置浮动，排列左右位置

- 一个元素浮动了，兄弟元素也要浮动，以保证各个兄弟元素水平对齐
  - 浮动的盒子只会影响浮动盒子后边的标准流，不会影响前面的标准流

## 清除浮动？

> 常见情景：父盒子的高度不确定

父级盒子很多的前提下，不方便设置高度，但是子盒子浮动又不占有位置，最后父级盒子高度为0时，**就会影响下面的标准流盒子**，要对后面网页的排版产生影响

**清除浮动的本质**：清楚浮动元素对标准流造成的影响

> 在这之后，父级就会根据浮动的子盒子自动检测高度，父级有了高度之后，就不会影响下面的标准流了

```css
selector{
	clear:both
    /*同时清楚左右两侧浮动的影响*/
}
```

**清除策略**：闭合浮动

### 清除浮动的方法

#### 额外标签法（隔墙）

在浮动元素的末尾添加一个空标签`<div style="clear:both"></div>`

要求必须是块级元素

#### **父级元素添加**`overflow`**属性**

overflow属性，将其属性值设置为hidden、auto或scroll

但没办法显示溢出的部分

#### 伪元素清除浮动

